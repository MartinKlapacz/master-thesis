\section{Conditions}\label{sec:ebm-conditions}


Each EBM code is represented by a EBM code record in the EBM dataset.
The KBV maintains an extensive xml schema documentation for the EBM data model.


Part of this work is to understand and identify all conditions that determine under which circumstances a code can be billed or not.
For automated derivation of applicable EBM codes these conditions need to be automatically checked.
In this section we go through all identified relevant EBM conditions, that the billing framework need to check automatically.


\subsection{EBM reference contexts}
Before describing the EBM condition types we need to introduce the concept of reference contexts.
Condition types such as exclusion rules often refer to a specific reference context.
The following is a description of those reference contexts defined by the EBM.
\begin{itemize}
    \item The smallest reference context is the Visit (in der selben Sitzung), which simply refers to all services occurred during the patients visit at the practitioner.
    It occurs in 2688 EBM codes.
    \item One level above is the case (Behandlungsfall), which refers to the current quarter of the year.
     The case encompasses all billing positions that happened between start and end of the quarter.
    It is even more important than the visit reference context.
    It is used 4091 times.
    \item The Illness Case (Krankheitsfall) refers to the current and the three following quarters.
    It is less important but still occurs in 343 conditions.
    \item A Reproduction Case (Reproduktionsfall) encompasses all services that are linked to a pregnancy.
    It refers to the entire pregnancy of a patient from the determination of the pregnancy to delivery, including postnatal care.
    It has just 13 usages.
    \item Similarly to the reproduction case, the Cycle Case encompasses all service provisions linked to the patients menstrual cycle
    All issues, consultations, or examinations associated with menstruation fall into that context.
\end{itemize}
Reference contexts for the current year, current month, current weeks and treatment day that are self-explanatory exist as well.
There are very specific reference contexts used by very few specialized EBM codes that need to be taken into consideration as well.
For the sake of completeness they are listed in the following:
\begin{itemize}
    \item Within a period of 21 days after the provision of a service from section 31.2:
    Section 31.2 contains the \glqq outpatient operations\glqq.
    \item Within a period of 3 days after the provision of a service from section 36.2:
    Section 36.2 contains the \glqq Attendant medical operations\glqq.
    \item Within a period of 3 days after the provision of a service from section 31.2:
\end{itemize}
In the current version of the EBM the latter two reference contexts are not used at all.
The system should, nonetheless, take them consideration as well as they can be used in future versions.




\subsection{Authorized Practitioner Types List}

The EBM maintains an extensive specification of what type of practitioners are allowed to bill which EBM codes.
For that it defines the two axes medical specialization and service area.

All values for service area of a practitioner are
\begin{itemize}
    \item Specialist (Facharzt)
    \item General Practitioner (Hausarzt)
    \item Specialist-General Practitioner (Fach- Hausarzt)
    \item Authorized Physician (Ermächtigter Arzt)
\end{itemize}

The EBM distinguishes 206 medical specializations.
Possible service medical specializations are the following:
\begin{itemize}
    \item TG Hematology (TG Hämatologie)
    \item Specialist/Consultant in Neurosurgery (FÄ/FA Neurochirurgie)
    \item Specialist/Consultant in General Surgery (FÄ/FA Allgemeine Chirurgie)
    \item TG Vascular Surgery (TG Gefäßchirurgie)
    \item Subspecialty Neuropediatrics (SP Neuropädiatrie)
\end{itemize}

Formally, each EBM code specifies a set of points from the space spanned by those two axes.
If and only if the practitioner's service area and medical specialization pair is an element of that set, they will be authorized to bill that EBM code.
\todo{Add example}


\subsection{Code Justification List}
Some EBM codes can have a code justification list.
A justification is one of the following:
\begin{itemize}
    \item An OPS code identifying a procedure conducted in this treatment.
    \item An ICD10 code of a diagnosis given to the patient during this treatment
    \item Another EBM code that is part of this billing
\end{itemize}
A code justification list condition holds if and only if it is empty or at least one code of the three justification categories is present.
Localization specific OPS codes are combined with a localization identifiers (left, right or both sides).
For example the EBM code \meco{31658} has the ops number \meco{5-184.1} in combination with the \meco{B} localization identifier in its code justification list.
For example, \meco{OPS 5-184.1} is listed in combination with the \meco{B} localization identifier and is thus a possible justification code for \meco{EBM 31658}.
This means, applying the billing code \mete{Postoperative Behandlung Hals-Nasen-Ohren VI/2a} (\meco{31658}) i.e. \mete{Postoperative treatment of ear, nose, and throat (ENT) VI/2a} to a \mete{plastic correction of protruding ears through excision of soft tissues} is only possible if both ears were operated on.

The idea behind EBM codes being justifications for other EBM codes is the following.
There are EBM codes with a very general description.

\subsection{Amount Condition}

Another class of conditions are amount conditions.
EBM codes can be limited in how often the code can be billed in a specific reference context.


\subsection{Exclusion List}\label{subsec:exclusion-list}
Almost all EBM codes maintain an exclusion list.

An exclusion condition can be seen as a quadrupel consisting of the current EBM code, the excluded EBM code, the reference context and a positive integer.
The practitioner must resolve exclusion conflicts by hand.

\subsection{Administrative Gender}\label{subsec:administrative-gender}
EBM codes that contain that condition type can only be explicitly applied for a specific gender.
The number of gender-specific EBM is 150.
Most gender-specific EBM codes come from the fields of gynecology and urology.

\subsection{Form Type List}\label{subsec:form-type-list}

\subsection{Obligate Service Content}\label{subsec:obligate-service-content}
Obligate service contents is a description text of \todo{}

\subsection{Additional Input Information}\label{subsec:additional-information}
Form Type lists are code specific additional input fields.
The KBV defines 35 different additional input information types.
An EBM code can define a subset of these as required additional input information.
This requires the practitioner to add more information to the billing.
Effectively, the billing framework obligates the practitioner to add the required additional information for billing codes that otherwise are perfect billing candidates.
This can be assured by displaying the inputs with the correct data types in the front-end.
\todo{Provide a example}
In the current version of the EBM only few additional input types are actually used.
Those are:
\begin{itemize}
    \item Finish time
    \item OPS number
    \item ICD code
    \item BSNR
\end{itemize}